(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[70598],{755506:(e,o,l)=>{l.d(o,{AH:()=>n,CK:()=>i,Fi:()=>t,wS:()=>a});const t=({i18n:e,isLego:o,pin:l,useGridTitleOrRichSummary:t})=>{var i;const n=l.link_domain,a=l.native_creator,s=l.rich_metadata,r=l.rich_summary,d=l.attribution;let u,_,c,p,h,m,f,v,g=o?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),w=e._('Visit', 'pin outbound link text', 'pin outbound link text'),b="",P="",x=!1;if(a?v=a:n?(v=n.official_user,P=l.domain,x=!0):(v=l.origin_pinner||l.pinner,l.origin_pinner&&(x=!0)),x&&null!==(i=v)&&void 0!==i&&i.username?(m=`/${v.username}/`,f=v.full_name):f=P,!n||s&&s.recipe&&s.recipe.from_aggregated_data)g=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation');else{const t=!!(s&&s.recipe&&s.recipe.name&&s.recipe.categorized_ingredients);let i;s&&s.products&&s.products[0]&&(i=!!(s&&s.products[0].name&&s.products[0].offer_summary));const n=!(!s||!s.article),a=!(!s||!s.tutorial);var y,A,z;if(i)g=e._('Product sold by ', 'pin annotation', 'pin annotation'),p=null==s||null===(y=s.products)||void 0===y?void 0:y[0].offer_summary,h=null==s||null===(A=s.products)||void 0===A?void 0:A[0].shipping_info,b=null==s||null===(z=s.products)||void 0===z?void 0:z[0].name;else if(a)o&&(g=e._('From ', 'pin annotation', 'pin annotation')),g=e._('Saved from ', 'pin annotation', 'pin annotation');else if(t){var T,k,L,S;g=e._('Recipe from ', 'pin annotation', 'pin annotation'),w=e._('Make it ', 'pin outbound link text', 'pin outbound link text'),b=null==s||null===(T=s.recipe)||void 0===T?void 0:T.name,_=null==s?void 0:s.closeup_description,c=null!==(k=null==s?void 0:s.recipe)&&void 0!==k?k:null,null!==(L=c)&&void 0!==L&&null!==(S=L.aggregate_rating)&&void 0!==S&&S.rating_value&&"number"==typeof c.aggregate_rating.review_count&&(null!=s&&s.site_name||l.domain)?c.aggregate_rating.review_source=(null==s?void 0:s.site_name)||l.domain:c&&(c.aggregate_rating=null)}else if(n){var C;u=(null==s||null===(C=s.article)||void 0===C?void 0:C.date_published)&&new Date(s.article.date_published),b=null==s?void 0:s.title,g=e._('Article from ', 'pin annotation', 'pin annotation'),w=e._('Read it ', 'pin outbound link text', 'pin outbound link text')}}if(!p&&r){let o;var F,j,I;if(r&&r.products&&r.products[0])if(o=!!(r&&r.products[0].name&&r.products[0].offer_summary),o)g=e._('Product sold by ', 'pin annotation', 'pin annotation'),p=null===(F=r.products)||void 0===F?void 0:F[0].offer_summary,h=null===(j=r.products)||void 0===j?void 0:j[0].shipping_info,b=null===(I=r.products)||void 0===I?void 0:I[0].name}const H=(l.unified_user_note||"").trim();b=l.grid_title||l.title;let U=b;if(!U&&t){const e=l.grid_title;U="string"==typeof e?e:(l.rich_summary||{}).display_name}_=l.closeup_unified_description&&l.closeup_unified_description.trim();return{actionButtonText:w,avatar:v&&"string"!=typeof v&&(v.image_medium_url||v.image_small_url)||"",pinArticleDate:u,pinAttribution:d,pinCreditLink:m,pinCreditPrefix:g,pinCredit:f,pinDescription:_,pinDownloadTitle:U,pinProduct:p,pinShippingInfo:h,pinTitle:b,pinCategory:l.category,pinRecipe:c,sourceUser:v,trimmedUserNote:H}},i=e=>{const o=e.rich_metadata;return o?o.products?144:o.article?141:o.recipe?145:139:140},n=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com"),a=e=>{if(!e)return Object.freeze({});let o;return e.native_creator?(o=e.native_creator,o):e.link_domain?(o=e.link_domain.official_user,o):(o=e.origin_pinner||e.pinner,o)}},780679:(e,o,l)=>{l.d(o,{g:()=>a,t:()=>n});var t=l(667294);const i=(0,t.createContext)(null),n=i.Provider,a=()=>(0,t.useContext)(i)},499128:(e,o,l)=>{l.d(o,{UZ:()=>d,Vg:()=>r,ZP:()=>u});var t=l(667294),i=l(829407),n=l(50286),a=l(883119),s=l(785893);const r=200,d=({deviceType:e,hiding:o,visible:l})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",pointerEvents:"auto",...l?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...l&&o?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function u({button:e,dataTestId:o,duration:l=2e3,href:u,iconThumbnail:_,imageUrl:c,onClick:p,onHide:h,openNewPage:m,text:f,thumbnailShape:v="square",variant:g="default"}){const w=(0,n.ZP)(),[b,P]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),A=(0,t.useRef)(),z=()=>{P(!0),A.current=setTimeout(h,r)},T=()=>{A.current&&clearTimeout(A.current)},k=()=>{A.current=setTimeout(z,l)};(0,i.Z)((()=>(setTimeout((()=>y(!0)),100),k(),T)));const L="string"==typeof f?f:`${f[0]} ${f[1]}`,S=c?(0,s.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(a.Ee,{alt:L,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,C=(0,s.jsx)(a.FN,{button:e,text:f,thumbnail:null!=_?_:S,thumbnailShape:v,variant:g});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...d({deviceType:w,hiding:b,visible:x})}},"data-test-id":null!=o?o:"toast",onMouseEnter:T,onMouseLeave:k,children:u?(0,s.jsx)(a.iP,{role:"link",href:u,onTap:({event:e})=>null==p?void 0:p(e),target:m?"blank":null,rounding:"pill",children:C}):C})}},458882:(e,o,l)=>{l.d(o,{l:()=>n,r:()=>a});var t=l(667294);const i=(0,t.createContext)(null),n=()=>(0,t.useContext)(i),a=i.Provider},667679:(e,o,l)=>{l.d(o,{Z:()=>n});var t=l(458882),i=l(780679);const n=()=>{const e=(0,i.g)(),o=(0,t.l)();return l=>{const{mobileOptions:t,desktopOptions:i,reason:n,attributionLabel:a}=l;var s;e?e.showDesktopSignupModal({modalType:null!==(s=null==i?void 0:i.modalType)&&void 0!==s?s:"signup",reason:n,attributionLabel:a,...null==i?void 0:i.modalOptions}):o&&o.showMobileSignupModal({reason:n,attributionLabel:a,headingType:null==t?void 0:t.headingType})}}},343341:(e,o,l)=>{l.d(o,{F9:()=>a,Zo:()=>i,nE:()=>n});var t=l(425288);const{Provider:i,Consumer:n,useHook:a}=(0,t.Z)("toastManagerContext")},70598:(e,o,l)=>{l.d(o,{Z:()=>x});var t=l(966338),i=l(829407),n=l(898781),a=l(112690),s=l(728214),r=l(602574),d=l(667679),u=l(19121),_=l(957314),c=l(755506),p=l(281180),h=l(50286),m=l(925927),f=l(343341),v=l(687999),g=l(867820),w=l(883119),b=l(785893);const P=({children:e,pulsar:o,testId:l})=>o.show?(0,b.jsx)(w.xu,{position:"relative","data-test-id":l,children:(0,b.jsxs)(w.iP,{tapStyle:"none",onTap:o.onClick,children:[(0,b.jsx)(w.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(w.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(w.o3,{})})]})}):(0,b.jsx)(w.xu,{"data-test-id":l,children:e});function x({auxData:e,disabled:o,disableLog:l,followEventType:x,id:y,inline:A,invertColors:z,isFollowed:T,isIdeaPin:k,isLegoEnabled:L,isSecondaryButton:S,isUserFollowButton:C,isUserMe:F,onFollow:j,onUnfollow:I,pinId:H,shouldUseLegoColors:U,showPulsar:Z,size:E,textType:D="FollowFollowing",unfollowEventType:M,viewParameter:N,viewType:O}){const R=(0,n.ZP)(),W=(0,m.TH)(),B=(0,h.HG)(),{showToast:G}=(0,f.F9)(),Y=(0,a.Z)(),$=(0,d.Z)(),q=(0,s.Z)(),K=(0,u.Z)(),V=K&&K.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:J}=(0,v.f)(),X=(0,p.mN)()(y),ee=(0,t.useSelector)((({pins:e})=>H?e[H]:null)),oe=(0,c.wS)(ee),le=null!=X?X:oe;(0,i.Z)((()=>{!B&&V&&Q&&y&&Q===y&&j(y)}));const te=q({fn:()=>{V?T?(I(y),l||Y({event_type:M,view_type:O,view_parameter:N,object_id_str:y,aux_data:e})):(j(y),C&&G((({hideToast:e})=>{if(!le)return null;const o=le.username?`/${le.username}/`:"";return(0,b.jsx)(r.Z,{handleHide:e,text:(0,b.jsx)(w.xv,{children:R._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:y,href:o,imageUrl:le.image_medium_url})})),l||Y({event_type:x,view_type:O,view_parameter:N,object_id_str:y,aux_data:e})):((0,g.My)(`mweb_unauth_follow_button.tap.${String(O)}`),5===O&&26===x&&(0,g.My)("mweb_unauth_board_page_follow_button.tap"),(0,g.NC)(T?"press_profile_unfollow":"press_profile_follow"),(0,g.LW)({action:"click",pageLocation:W,item:"board-follow-button"}),$({attributionLabel:k?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP"}),B||J(null!=y?y:""),(0,g.NC)("clickthrough"))},modalHeader:(0,_.N4)({i18n:R,toFollow:!T})}),ie=!T&&!!Z,ne=()=>{if(F)return R._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===D)return T?R._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):R._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===D?R._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):R._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return T?e:R._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(P,{pulsar:ie?{show:!0,onClick:te}:{show:!1},testId:F||T?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(w.zx,{color:U||"AddRemove"===D||!L&&S||T?"gray":"red",disabled:F||o,fullWidth:A,onClick:ie?void 0:({event:o})=>{o.preventDefault(),o.stopPropagation(),l||Y({event_type:101,component:13672,element:11951,object_id_str:y,view_type:O,view_parameter:N,aux_data:e}),te()},selected:z?!T:U&&T||!!T&&S,size:E,text:ne(),accessibilityLabel:ne()})})}},281180:(e,o,l)=>{l.d(o,{Tt:()=>u,kW:()=>r,kY:()=>_,mN:()=>d});var t=l(966338),i=l(19121),n=l(425288),a=l(785893);const{Provider:s,useHook:r}=(0,n.Z)("Users");function d(){const e=r();return o=>e[o]}function u(){const{id:e}=(0,i.Z)();return r()[null!=e?e:""]}function _({children:e}){const o=(0,t.useSelector)((({users:e})=>e),t.shallowEqual);return(0,a.jsx)(s,{value:o,children:e})}},687999:(e,o,l)=>{l.d(o,{f:()=>s,w:()=>r});var t=l(667294),i=l(425288),n=l(785893);const{Provider:a,useHook:s}=(0,i.Z)("Session");function r({children:e}){const[o,l]=(0,t.useState)(void 0),i=(0,t.useCallback)((()=>l(void 0)),[]),s=(0,t.useMemo)((()=>({unauthFollowUserId:o,setUnauthFollowUserId:l,removeUnauthFollowUserId:i})),[o,i]);return(0,n.jsx)(a,{value:s,children:e})}},154391:(e,o,l)=>{l.d(o,{H:()=>n,o:()=>i});var t=l(425288);const{Provider:i,useHook:n}=(0,t.Z)("LimitedLogin")},957314:(e,o,l)=>{l.d(o,{N4:()=>n,Wh:()=>t,hr:()=>i});const t=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=({i18n:e,toFollow:o})=>o?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,o,l)=>{l.d(o,{Z:()=>s});var t=l(898781),i=l(50286),n=l(154391),a=l(957314);const s=()=>{const e=(0,t.ZP)(),o=(0,i.HG)(),{viewer:l,loginForMore:s,limitedLoginModalSubheader:r,limitedLoginModalNextLocation:d}=(0,n.H)();return"LIMITED_LOGIN"===l.type?({modalHeader:l,nextLocation:t})=>i=>{let n=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?n=i:i.event&&(n=i.event)),n&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()),l||(l=o?(0,a.hr)(e):(0,a.Wh)(e)),null==s||s.setVisible(!0),null==r||r.setText(l),t&&(null==d||d.setRoute(t))}:({fn:e})=>e}},602574:(e,o,l)=>{l.d(o,{Z:()=>u});var t=l(883119),i=l(785893);function n({ideaPinImages:e}){const o={1:28,2:40,3:48},l=e.map(((e,o)=>{var l,n,a;return(0,i.jsx)(t.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:o}},children:(0,i.jsx)(t.Ee,{alt:"",src:null!==(l=null==e?void 0:e.url)&&void 0!==l?l:"",color:"#696969",fit:"cover",naturalHeight:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},o)}));return(0,i.jsx)(t.kC,{justifyContent:"center",children:(0,i.jsx)(t.kC,{justifyContent:"start",width:o[e.length],children:l})})}var a=l(499128),s=l(898781),r=l(784590),d=l(50286);function u({handleHide:e,text:o,userId:l,href:u,imageUrl:_}){const c=(0,s.ZP)(),p=(0,d.HG)(),h=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:l}}),m=Array.isArray(o)?o.join(" "):o;if(0===(h.data||[]).length){const o=_?(0,i.jsx)(t.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(t.Ee,{alt:c._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}):void 0;return(0,i.jsx)(a.ZP,{duration:5e3,onHide:e,text:m,href:u,iconThumbnail:o,thumbnailShape:"circle"})}const f=(h.data||[]).slice(0,3).map((e=>{var o;return null===(o=e.images)||void 0===o?void 0:o[p?"236x":"170x"]})),v=(0,i.jsx)(n,{ideaPinImages:f});return(0,i.jsx)(a.ZP,{href:u,duration:5e3,onHide:e,iconThumbnail:v,text:m,thumbnailShape:"square"})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70598-dba9d472e77716a9.mjs.map